{"version":3,"sources":["components/Frontpage/Searchbar/Searchbar.js","components/Frontpage/ResultContainer/ResultContainer.js","components/Frontpage/Frontpage.js","components/Manage/Manage.js","App.js","index.js"],"names":["Searchbar","socket","useState","name","setName","city","setCity","country","setCountry","nroOfBeds","setNroOfBeds","price","setPrice","useEffect","data","emit","console","log","id","sendQueryData","className","placeholder","onChange","event","target","value","type","ResultContainer","resultData","setResultData","on","results","map","src","picture_url","alt","beds","summary","action","url","io","connect","Frontpage","to","Manage","setBeds","setUrl","pictureUrl","setPictureUrl","inputs","onClick","valid","i","alert","window","location","reload","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c898e085.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport './Searchbar.css';\r\n\r\nconst Searchbar = ({socket}) =>{\r\n\r\n    const [name, setName] = useState('');\r\n    const [city, setCity] = useState('');\r\n    const [country, setCountry] = useState('');\r\n    const [nroOfBeds, setNroOfBeds] = useState('');\r\n    const [price, setPrice] = useState('');\r\n\r\n    // Using Effect hook to continuously update and query results when search field values are changed\r\n    useEffect(()=>{\r\n        sendQueryData();\r\n    });\r\n\r\n    /*Functions*/\r\n\r\n    // Function for sending query variables to server\r\n    function sendQueryData(){\r\n        let data = {\r\n            name: name,\r\n            city: city,\r\n            country: country,\r\n            nroOfBeds: nroOfBeds,\r\n            price: price\r\n        };\r\n\r\n        socket.emit('queryData', data);\r\n        console.log(socket.id);\r\n    };\r\n\r\n    return(\r\n        <div className='sbContainer'>\r\n            <input placeholder='Name...' className='searchInput' onChange={(event) => setName(event.target.value)} />\r\n            <input placeholder='City...' className='searchInput' onChange={(event) => setCity(event.target.value)} />\r\n            <input placeholder='Country...' className='searchInput' onChange={(event) => setCountry(event.target.value)} />\r\n            <input placeholder='Nro of beds...' type ='number' className='searchInput' onChange={(event) => setNroOfBeds(event.target.value)} />\r\n            <input placeholder='Price cap ($)...' type ='number' className='searchInput' onChange={(event) => setPrice(event.target.value)} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Searchbar;\r\n","import React, {useState} from 'react';\r\nimport './ResultContainer.css';\r\n\r\nconst ResultContainer = ({socket}) =>{\r\n\r\n  const [resultData, setResultData] = useState([]);\r\n\r\n  /*Listen for events*/\r\n  socket.on('queryResults', (results)=>{\r\n    setResultData(results);\r\n  });\r\n\r\n  return(\r\n    <div id='resultContainer'>\r\n      {resultData.map((resultData)=>(\r\n        <div className='listing'>\r\n          <h2 className='listingTitle'>{resultData.name}</h2>\r\n          <h4 className='listingSubtitle'>{resultData.city} - {resultData.country}</h4>\r\n          <img className='listingImg' src={resultData.picture_url} alt='Image not found.'></img>\r\n          <h4 className='listingSubtitle'>Beds: {resultData.beds} - Price: {resultData.price}$/night</h4>\r\n          <p><b>Summary:</b> {resultData.summary}</p>\r\n          <form action={resultData.url}>\r\n            <input className='fpButton' type='submit' value='Check listing' />\r\n          </form>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );  \r\n};\r\n\r\nexport default ResultContainer;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport './Frontpage.css';\r\nimport io from 'socket.io-client';\r\n\r\n/*Import components*/\r\nimport Searchbar from './Searchbar/Searchbar';\r\nimport ResultContainer from './ResultContainer/ResultContainer';\r\n\r\n/*Socket initialization*/\r\nconst endpoint = 'https://vj-airbnb-reactgui.herokuapp.com/';\r\nconst socket = io.connect(`${endpoint}`);\r\n\r\nconst Frontpage = () =>(\r\n    <div id='rootFpCont'>\r\n        <div className='sidebarContainer'></div>\r\n        <div className='fpContainer'>\r\n            <h1 className='pageTitle'>Airbnb Listing DB</h1>\r\n            <Link to={'/manage'}>\r\n                <button className='fpButton'>Manage listings</button>\r\n            </Link>\r\n            <Searchbar socket={socket}/>\r\n            <ResultContainer socket={socket} />\r\n        </div>\r\n        <div className='sidebarContainer'></div>\r\n    </div>\r\n);\r\n\r\nexport default Frontpage;","import React, {useState} from 'react';\r\nimport './Manage.css';\r\nimport io from 'socket.io-client';\r\n\r\n/* Socket initialization */\r\nconst endpoint = 'https://vj-airbnb-reactgui.herokuapp.com/';\r\nconst socket = io.connect(`${endpoint}`);\r\n\r\nconst Manage = () =>{\r\n\r\n    // State variables\r\n    const [name, setName] = useState('');\r\n    const [city, setCity] = useState('');\r\n    const [country, setCountry] = useState('');\r\n    const [price, setPrice] = useState('');\r\n    const [beds, setBeds] = useState('');\r\n    const [url, setUrl] = useState('');\r\n    const [pictureUrl, setPictureUrl] = useState('');\r\n\r\n    let inputs = {\r\n        name: name,\r\n        city: city,\r\n        country: country,\r\n        price: price,\r\n        beds: beds,\r\n        url: url,\r\n        picture_url: pictureUrl\r\n    }\r\n\r\n    // Functions\r\n\r\n    /* Function for adding a listing to database */\r\n    function addListing(){\r\n        let valid = false;\r\n        // Check empty fields\r\n        for(let i in inputs){\r\n            if(inputs[i] === ''){\r\n                alert(\"Error, can't submit empty fields. Check the inputs of the fields!\");\r\n                valid = false;\r\n                break;\r\n            };\r\n            valid = true;\r\n        };\r\n        // Emit event if all fields are valid\r\n        if(valid==true){\r\n            socket.emit('addListing', inputs);\r\n            alert(\"Listing submitted.\");\r\n            window.location.reload(false);\r\n        };\r\n    };\r\n\r\n    function updateListing(){\r\n    };\r\n\r\n    function deleteListing(){\r\n    };\r\n\r\nreturn(\r\n    <div id='rootManageCont'>\r\n        <div className='sidebarContainer' />\r\n        <div className='manageContainer'>\r\n            <h1>Manage Listings</h1>\r\n                <input className='formInput' name='name' placeholder='Name...' onChange={(event) => setName(event.target.value)}/>\r\n                <input className='formInput' name='city' placeholder='City...' onChange={(event) => setCity(event.target.value)}/>\r\n                <input className='formInput' name='country' placeholder='Country...' onChange={(event) => setCountry(event.target.value)}/>\r\n                <input className='formInput' name='price' placeholder='Price ($)...' onChange={(event) => setPrice(event.target.value)}/>\r\n                <input className='formInput' name='beds' placeholder='Nro of beds...' onChange={(event) => setBeds(event.target.value)}/>\r\n                <input className='formInput' name='url' placeholder='Listing url...' onChange={(event) => setUrl(event.target.value)}/>\r\n                <input className='formInput' name='picture_url' placeholder='Picture url...' onChange={(event) => setPictureUrl(event.target.value)}/>\r\n                <div id='formBtnCont'>\r\n                    <button className='formButton' onClick={addListing}>Add listing</button>\r\n                    <button className='formButton' onClick={updateListing}>Update listing</button>\r\n                    <button className='formButton' onClick={deleteListing}>Delete listing</button>\r\n                </div>\r\n        </div>\r\n        <div className='sidebarContainer' />\r\n    </div>\r\n)};\r\n\r\nexport default Manage;","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\n/*Import components*/\nimport Frontpage from './components/Frontpage/Frontpage';\nimport Manage from './components/Manage/Manage';\n\nconst App = () => (\n  <Router>\n    <Switch>\n      <Route path='/' exact component = {Frontpage} />\n      <Route path='/manage' exact component = {Manage} />\n    </Switch>\n  </Router>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById ('root')\n);\n"],"sourceRoot":""}